import { Box } from 'ink';
import React, { useMemo, useContext } from 'react';
import figures from 'figures';
import { useMultiStyleConfig } from '../theme.js';
import { UnorderedListItem } from './unordered-list-item.js';
import { UnorderedListContext } from './unordered-list-context.js';
import { UnorderedListItemContext } from './unordered-list-item-context.js';
const defaultMarker = figures.line;
export function UnorderedList({ children, marker }) {
    const { depth, markers } = useContext(UnorderedListContext);
    const styles = useMultiStyleConfig('UnorderedList', { depth });
    const listContext = useMemo(() => ({
        markers: Array.isArray(marker) ? marker : [marker ?? figures.line],
        depth: depth + 1,
    }), [marker, depth]);
    const listItemContext = useMemo(() => {
        if (typeof marker === 'string') {
            return { marker };
        }
        if (Array.isArray(marker)) {
            return {
                marker: marker[depth] ?? defaultMarker,
            };
        }
        return {
            marker: markers[depth] ?? defaultMarker,
        };
    }, [marker, markers, depth]);
    return (React.createElement(UnorderedListContext.Provider, { value: listContext },
        React.createElement(UnorderedListItemContext.Provider, { value: listItemContext },
            React.createElement(Box, { ...styles['list'] }, children))));
}
UnorderedList.Item = UnorderedListItem;
//# sourceMappingURL=unordered-list.js.map